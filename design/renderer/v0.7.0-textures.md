# v0.7.0 텍스처 설계

## 목표
- 단색, 체커, 퍼린 노이즈 텍스처를 추가한다.
- Lambertian이 텍스처 기반 감쇠를 사용하도록 확장한다.
- 샘플링 결정성을 유지하며 출력 범위를 0..1 안에 두는 것을 검증한다.

## Texture 인터페이스
- `Texture::Value(u, v, p)`는 표면 좌표(u, v)와 공간 위치(p)를 받아 `Color`를 반환한다.
- `HitRecord`에 `u`, `v`를 추가해 이후 이미지 텍스처 매핑까지 확장 가능하도록 했다.
- Lambertian은 `std::shared_ptr<Texture>`를 받아 감쇠값을 계산한다. 기존 색상 기반 호출자는 `SolidColor`로 감싸 동일하게 동작한다.

## 텍스처 구현
- **SolidColor**: 고정 색상을 반환하며 기본값은 `(0, 0, 0)`이다.
- **CheckerTexture**:
  - 두 텍스처(또는 색상)와 스케일 인자를 받아 `sin(scale * x) * sin(scale * y) * sin(scale * z)`의 부호로 짝/홀 패턴을 결정한다.
  - 스케일은 3.0을 기본 예시로 사용하며, 짝/홀 텍스처가 반환하는 값 범위를 그대로 유지한다.
- **Perlin/NoiseTexture**:
  - Perlin은 고정 시드(`20240701`, `20240731`, `20240801`)로 permutation을 생성해 결정성을 보장한다.
  - 격자에 저장된 단위 벡터와 Hermite 보간으로 노이즈를 구하고, `Turbulence`는 깊이 7에서 가중 합을 절댓값으로 누적한다.
  - NoiseTexture는 `0.5 * (1 + sin(scale * p.z() + 10 * turbulence))`로 정규화된 값을 반환해 각 채널이 0..1 사이에 놓이도록 했다.

## 렌더링 사용처
- 바닥 구는 체커 텍스처(노란/녹색 계열, 스케일 3.0)를 적용한 Lambertian을 사용한다.
- 중앙의 이동 구는 `NoiseTexture(scale=2.0)`을 Lambertian과 결합해 노이즈 변화를 표현한다.
- 좌/우 구는 기존 Dielectric/Metal을 유지해 이전 버전과 호환성을 확보한다.

## 테스트 전략
- **단위 테스트**: 체커 텍스처가 짝/홀 위치에서 지정된 색을 반환하는지, 노이즈 텍스처 샘플이 0..1 범위를 벗어나지 않는지 검증한다(`tests/unit/texture_test.cpp`).
- **통합 테스트**: 텍스처가 적용된 장면의 PPM 문자열을 갱신하고 고정 시드로 결정성을 확인한다(`tests/integration/ppm_integration_test.cpp`).
